<Geowigo_Views:BasePage xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone" xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone" xmlns:controls="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:Geowigo_Views="clr-namespace:Geowigo.Views" xmlns:Geowigo_ViewModels="clr-namespace:Geowigo.ViewModels"
    xmlns:Geowigo_Converters="clr-namespace:Geowigo.Converters"
	xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
    x:Class="Geowigo.Views.GameHomePage"
    d:DesignWidth="480" d:DesignHeight="768"
    mc:Ignorable="d"
    SupportedOrientations="Portrait"  Orientation="Portrait"
    shell:SystemTray.IsVisible="True"
	x:Name="This"
	toolkit:TiltEffect.IsTiltEnabled="True">
	<Geowigo_Views:BasePage.Resources>
		<Geowigo_Converters:ThingToDistanceConverter x:Key="ThingToDistanceConverter"/>
		<Geowigo_Converters:ZoneToDistanceConverter x:Key="ZoneToDistanceConverter"/>
		<DataTemplate x:Key="TaskItemTemplate">
			<Grid>
				<TextBlock Margin="0,0,1,0" TextWrapping="Wrap" Text="{Binding Name, Mode=OneWay}" d:LayoutOverrides="Width, Height"/>
			</Grid>
		</DataTemplate>
		<DataTemplate x:Key="ZoneListItemTemplate">
			<StackPanel>
				<TextBlock TextWrapping="Wrap" Text="{Binding Name, FallbackValue=Unnamed Zone, Mode=OneWay}"/>
				<TextBlock TextWrapping="Wrap" Text="{Binding Converter={StaticResource ZoneToDistanceConverter}, FallbackValue=Distance unknown., Mode=OneWay}"/>
			</StackPanel>
		</DataTemplate>
		<DataTemplate x:Key="ObjectListItemTemplate">
			<StackPanel>
				<TextBlock TextWrapping="Wrap" Text="{Binding Name, Mode=OneWay}"/>
				<TextBlock TextWrapping="Wrap" Text="{Binding Converter={StaticResource ThingToDistanceConverter}, Mode=OneWay}"/>
			</StackPanel>
		</DataTemplate>
		<DataTemplate x:Key="InventoryListItemTemplate">
			<Grid>
				<TextBlock TextWrapping="Wrap" Text="{Binding Name, FallbackValue=Name, Mode=OneWay}" d:LayoutOverrides="Width, Height"/>
			</Grid>
		</DataTemplate>
	</Geowigo_Views:BasePage.Resources>

    <!--Exemple de code illustrant l'utilisation d'ApplicationBar-->
	<Geowigo_Views:BasePage.FontFamily>
		<StaticResource ResourceKey="PhoneFontFamilyNormal"/>
	</Geowigo_Views:BasePage.FontFamily>
	<Geowigo_Views:BasePage.FontSize>
		<StaticResource ResourceKey="PhoneFontSizeNormal"/>
	</Geowigo_Views:BasePage.FontSize>
	<Geowigo_Views:BasePage.Foreground>
		<StaticResource ResourceKey="PhoneForegroundBrush"/>
	</Geowigo_Views:BasePage.Foreground>
    <!--<phone:PhoneApplicationPage.ApplicationBar>
        <shell:ApplicationBar IsVisible="True" IsMenuEnabled="True">
            <shell:ApplicationBarIconButton x:Name="appbar_button1" IconUri="/Images/appbar_button1.png" Text="Bouton 1"/>
            <shell:ApplicationBarIconButton x:Name="appbar_button2" IconUri="/Images/appbar_button2.png" Text="Bouton 2"/>
            <shell:ApplicationBar.MenuItems>
                <shell:ApplicationBarMenuItem x:Name="menuItem1" Text="ÉlémentMenu 1"/>
                <shell:ApplicationBarMenuItem x:Name="menuItem2" Text="ÉlémentMenu 2"/>
            </shell:ApplicationBar.MenuItems>
        </shell:ApplicationBar>
    </phone:PhoneApplicationPage.ApplicationBar>-->
    
	<Geowigo_Views:BasePage.DataContext>
		<Geowigo_ViewModels:GameHomeViewModel/>
	</Geowigo_Views:BasePage.DataContext>

    <!--LayoutRoot est la grille racine où tout le contenu de la page est placé-->
    <Grid x:Name="LayoutRoot" Background="Transparent">
        <!--Contrôle Pivot-->
		<Image Margin="0,-31,0,0" Source="windowsphone_grid_red_transparent.png"/>
        <!--Contrôle Pivot-->
		<controls:Pivot x:Name="ContentPivot" Title="{Binding}" TitleTemplate="{StaticResource GamePivotTitleTemplate}" Loaded="ContentPivot_Loaded" SelectedIndex="{Binding PivotSelectedIndex, Mode=TwoWay}">
            <!--Élément un de tableau croisé dynamique-->
            <controls:PivotItem x:Name="OverviewPivotItem" Header="overview">
            	<Grid/>
            </controls:PivotItem>
            <!--Élément un de tableau croisé dynamique-->
            <controls:PivotItem x:Name="WorldPivotItem" Header="world">
                <StackPanel>
            		<ListBox x:Name="ZoneList" ItemsSource="{Binding Model.Core.ActiveVisibleZones}" ItemTemplate="{StaticResource ZoneListItemTemplate}"/>
            		<ListBox x:Name="ObjectList" ItemsSource="{Binding Model.Core.VisibleObjects}" Margin="0,30,0,0" ItemTemplate="{StaticResource ObjectListItemTemplate}"/>
            	</StackPanel>
            </controls:PivotItem>

            <!--Élément deux de tableau croisé dynamique-->
            <controls:PivotItem x:Name="InventoryPivotItem" Header="inventory">
                <Grid>
                	<ListBox x:Name="InventoryList" ItemsSource="{Binding Model.Core.VisibleInventory}" ItemTemplate="{StaticResource InventoryListItemTemplate}" />
                </Grid>
            </controls:PivotItem>
            <controls:PivotItem x:Name="TasksPivotItem" Header="tasks">
            	<Grid>
            		<ListBox x:Name="TaskList" HorizontalAlignment="Left" VerticalAlignment="Top" ItemsSource="{Binding Model.Core.ActiveVisibleTasks}" ItemTemplate="{StaticResource TaskItemTemplate}"/>
            	</Grid>
            </controls:PivotItem>
        </controls:Pivot>
    </Grid>
    
</Geowigo_Views:BasePage>